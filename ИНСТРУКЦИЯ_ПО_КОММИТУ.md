# Инструкция по коммиту и отправке изменений

## Проблема
Изменения не видны в Git репозитории. Нужно выполнить команды вручную.

## Решение

### Шаг 1: Откройте терминал (PowerShell или Git Bash) в папке проекта
```
cd d:\xampp\htdocs\WP\wordpressportal
```

### Шаг 2: Проверьте текущую ветку
```bash
git branch
```
Должна быть активна ветка `addnews`. Если нет, переключитесь:
```bash
git checkout addnews
```

### Шаг 3: Проверьте статус
```bash
git status
```

### Шаг 4: Добавьте все изменения
```bash
git add -A
```

Или добавьте файлы по отдельности:
```bash
git add wp-content/plugins/segezha-user-sync/
git add wp-content/themes/segeja/template-parts/sidebar-main.php
git add wp-content/themes/segeja/template-parts/sidebar-post.php
git add wp-content/themes/segeja/template-parts/sidebar-lk.php
git add wp-content/themes/segeja/functions.php
git add DEPLOYMENT.md
git add GIT_COMMANDS.txt
git add ИНСТРУКЦИЯ_ПО_КОММИТУ.md
```

### Шаг 5: Проверьте, что файлы добавлены
```bash
git status
```

### Шаг 6: Создайте коммит
```bash
git commit -m "feat: добавлены пользовательские поля, синхронизация новостей, фильтры по тегам

- Создан плагин segezha-user-sync для синхронизации пользователей
- Добавлены дополнительные поля пользователя (организация, подразделение, должность и т.д.)
- Реализован вывод новостей из WordPress в sidebar-main.php и sidebar-post.php
- Добавлена фильтрация новостей по тегам организаций
- Обновлен sidebar-lk.php для отображения данных пользователя
- Добавлена возможность загрузки аватара в личном кабинете"
```

### Шаг 7: Отправьте в репозиторий
```bash
git push origin addnews
```

Если ветка еще не существует на удаленном репозитории:
```bash
git push -u origin addnews
```

### Шаг 8: Проверьте на GitHub
Откройте https://github.com/anton160687/wordpressportal и проверьте ветку `addnews`

## Подключение к серверу

После успешной отправки в репозиторий, подключитесь к серверу:

```bash
ssh root@217.26.24.243
# Пароль: F#w6vK)Xn4St
```

На сервере:
```bash
cd /var/www/html/wordpressportal  # или путь к вашему проекту
git fetch origin
git checkout addnews
git pull origin addnews
```

## Проверка изменений

### Локально проверьте файлы:
1. `wp-content/plugins/segezha-user-sync/segezha-user-sync.php` - должен существовать
2. `wp-content/plugins/segezha-user-sync/includes/` - должна содержать 4 файла классов
3. `wp-content/themes/segeja/template-parts/sidebar-main.php` - должен содержать `segeja_render_news_list`
4. `wp-content/themes/segeja/functions.php` - должен содержать функции для новостей

### Если файлы не видны в git status:

Проверьте `.gitignore` - возможно, некоторые файлы игнорируются:
```bash
cat .gitignore
```

Если нужно принудительно добавить игнорируемые файлы:
```bash
git add -f wp-content/plugins/segezha-user-sync/
```

## Альтернативный способ (если проблемы с git)

Если команды git не работают, можно использовать GitHub Desktop или другой Git клиент:
1. Откройте проект в GitHub Desktop
2. Вы увидите все изменения
3. Создайте коммит с сообщением
4. Отправьте в репозиторий

